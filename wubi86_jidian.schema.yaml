# Rime schema settings
# encoding: utf-8

schema:
  schema_id: wubi86_jidian
  name: "äº”ç¬”86-æç‚¹"
  version: "6.0"
  icon: "wubi86_jidian.ico"           # string æ–¹æ¡ˆå›¾æ ‡ï¼Œæ ¼å¼ï¼š .ico
  author:
    - ç™¼æ˜äºº ç‹æ°¸æ°‘
    - ä¿®æ”¹è€… Mintimate
  description: |
    äº”ç¬”å­—å½¢ 86 æç‚¹æçˆ½ç‰ˆï¼Œæ–¹æ¡ˆç”± dong.wang ä¿®æ”¹ 2024-03-04 11:06:18
  dependencies:
    - chaizi # å‚è€ƒ https://github.com/MaxChang3/rime-chaizi
    - stroke
    - melt_eng # è‹±æ–‡æ–¹æ¡ˆ

switches:
  - name: ascii_mode
    reset: 1
    states: [ ä¸­æ–‡, è‹±æ–‡ ]
  - name: emoji_suggestion
    reset: 1
    states: [ "ğŸ˜£ï¸","ğŸ˜ï¸"]
  - name: full_shape
    states: [ åŠè§’, å…¨è§’ ]
  - name: transcription
    reset: 0
    states: [ ç®€ä½“ , ç¹ä½“ ]
  - name: ascii_punct
    states: [ ã€‚ï¼Œ, ï¼ï¼Œ ]

engine:
  filters:
    - simplifier@tradition
    - simplifier
    - simplifier@emoji_suggestion
    - lua_filter@autocap_filter                     # è‹±æ–‡è‡ªåŠ¨å¤§å†™
    - simplifier@transcription_cc
    - lua_filter@reduce_english_filter    # é™ä½éƒ¨åˆ†è‹±è¯­å•è¯åœ¨å€™é€‰é¡¹çš„ä½ç½®
    - uniquifier
  processors:
    - ascii_composer
    - recognizer
    - key_binder
    - speller
    - punctuator
    - selector
    - navigator
    - express_editor
  segmentors:
    - ascii_segmentor
    - matcher
    - affix_segmentor@rime_mint # æ‹¼éŸ³
    - abc_segmentor
    - punct_segmentor
    - fallback_segmentor
  translators:
    - punct_translator  # â€» è½‰æ›æ¨™é»ç¬¦è™Ÿ
    - script_translator
    - lua_translator@date_translator # æ—¥æœŸLua
    - lua_translator@time_translator # æ—¶é—´Lua
    - lua_translator@week_translator # æ˜ŸæœŸLua
    - lua_translator@number_translator # é‡‘é¢å¤§å°å†™
    - table_translator@melt_eng  # è‹±æ–‡è¾“å…¥ï¼ˆä½œä¸ºå­ç¿»è¯‘å™¨ï¼Œä¼˜å…ˆçº§éœ€è¦æ¯”åŸç”Ÿçš„ä½ï¼‰
    # - echo_translator      # â€» æ²¡æœ‰å€™é€‰è¯ï¼Œè¿”å›å­—ç¬¦
    - reverse_lookup_translator@chaizi
    - reverse_lookup_translator@stroke
    # - reverse_lookup_translator # åæŸ¥æ¨¡å—ï¼Œå¤šæ ‡ç­¾æƒ…å†µä¸‹å»é™¤

speller:
  auto_select: true
  auto_clear: max_length
  delimiter: "`"
  max_code_length: 10 # æœ€å¤§è¾“å…¥å­—ç¬¦ï¼ˆä¸ºäº†å…¼å®¹è‹±æ–‡è¾“å…¥ï¼‰


# ç®€ç¹åˆ‡æ¢
transcription_cc:
  option_name: transcription
  opencc_config: s2t.json             # s2t.json | s2hk.json | s2tw.json | s2twp.json
  tips: none                          # è½¬æ¢æç¤º: all éƒ½æ˜¾ç¤º | char ä»…å•å­—æ˜¾ç¤º | none ä¸æ˜¾ç¤ºã€‚
  # excluded_types: [ reverse_lookup ]  # ä¸è½¬æ¢åæŸ¥ï¼ˆä¸¤åˆ†æ‹¼å­—ï¼‰çš„å†…å®¹

reverse_lookup:
  dictionary: rime_mint  # åæŸ¥ä½¿ç”¨çš„æ‹¼éŸ³è¯åº“
  prefix: "z"              # åæŸ¥å‰ç¼€ï¼Œä»¥å®ƒä¸ºèµ·ç‚¹
  suffix: "'"              # åæŸ¥åç¼€ï¼Œä»¥å®ƒä¸ºç»“ç‚¹
  tips: [æ‹¼éŸ³]              # åæŸ¥æ—¶çš„æç¤ºä¿¡æ¯

translator:
  dictionary: wubi86_jidian
  db_class: tabledb
  initial_quality: 100000
  enable_charset_filter: true # å¼€å¯å­—ç¬¦é›†è¿‡æ»¤
  enable_sentence: false
  enable_encoder: false
  encode_commit_history: false
  max_phrase_length: 4
  enable_completion: true # æ˜¯å¦æ˜¾ç¤ºç¼–ç æœªè¾“å…¥å®Œæ•´çš„è¯æ¡
  enable_user_dict: true # æ˜¯å¦å¼€å¯ç”¨æˆ·è¯å…¸ï¼ˆç”¨æˆ·è¯å…¸è®°å½•åŠ¨æ€å­—è¯é¢‘ï¼Œç”¨æˆ·è¯ï¼‰
  disable_user_dict_for_patterns:
    - "^z.*$"

melt_eng:
  dictionary: melt_eng           # è‹±æ–‡è¯å…¸
  enable_sentence: false         # å…³é—­è‡ªåŠ¨é€ å¥
  enable_completion: false       # å…³é—­è‡ªåŠ¨æç¤º
  initial_quality: 0.8

recognizer:
  import_preset: default
  patterns:
    reverse_lookup: "^z[a-z]*'?$" # åæŸ¥è¯æ¡çš„æ­£åˆ™
    email: "^[A-Za-z][-_.0-9A-Za-z]*@.*$"
    punct: "^/([0-9]0?|[A-Za-z]+)$"
    uppercase: "[A-Z][-_+.'0-9A-Za-z]*$"
    url: "^(www[.]|https?:|ftp[.:]|mailto:|file:).*$|^[a-z]+[.].+$"

history:
  input: z
  size: 1
  initial_quality: 1


key_binder:
  import_preset: default
  bindings:
    - {accept: "Control+Shift+E", toggle: emoji_suggestion, when: always}
    - {accept: "Control+Shift+1", toggle: transcription, when: has_menu}
    - {accept: bracketleft, send: Page_Up, when: paging}      # ä½¿ç”¨`[`è¿›è¡Œå‘ä¸Šç¿»é¡µï¼ˆç¬¬ä¸€é¡µæ—¶å€™æ— æ•ˆï¼‰
    - {accept: bracketright, send: Page_Down, when: has_menu} # ä½¿ç”¨`]`è¿›è¡Œå‘ä¸‹ç¿»é¡µ
    - {accept: minus, send: Page_Up, when: paging}     # ä½¿ç”¨`-`è¿›è¡Œå‘ä¸Šç¿»é¡µï¼ˆç¬¬ä¸€é¡µæ—¶å€™æ— æ•ˆï¼‰
    - {accept: equal, send: Page_Down, when: has_menu} # ä½¿ç”¨`=`è¿›è¡Œå‘ä¸‹ç¿»é¡µ
    # ä¸Šä¸‹ç¿»é¡µ
    - { when: has_menu, accept: Control+p, send: Page_Up }
    - { when: has_menu, accept: Control+n, send: Page_Down }
    # ä¸Šä¸‹å·¦å³
    - { when: has_menu, accept: Control+l, send: Right }
    - { when: has_menu, accept: Control+h, send: Left }
    - { when: has_menu, accept: Control+k, send: Up }
    - { when: has_menu, accept: Control+j, send: Down }

punctuator:
  import_preset: symbols
  full_shape: # å…¨è§’ç¬¦å·
    " ": {commit: "ã€€"}
    "!": {commit: "ï¼"}
    "\"": {pair: ["â€œ", "â€"]}
    "#": ["ï¼ƒ", "âŒ˜"]
    "$": "ï¿¥"
    "%": "ï¼…"
    "&": "ï¼†"
    "'": {pair: ["â€˜", "â€™"]}
    "(": "ï¼ˆ"
    ")": "ï¼‰"
    "*": ["ï¼Š", "ãƒ»", "Ã—"]
    "+": "ï¼‹"
    ",": {commit: ","}
    "-": "ï¼"
    '.': {commit: "ã€‚"}
    "/": ["ï¼", "Ã·"]
    ":": {commit: "ï¼š"}            # commit çš„æ„æ€æ˜¯è¿™ä¸ªç¬¦å·è¾“å…¥æ—¶ï¼Œä¼šå°†å½“å‰å¤„äºç¬¬ä¸€ä½çš„å€™é€‰è¯ä¸Šå±
    ";": {commit: "ï¼›"}
    "<": ["ã€Š", "ã€ˆ", "Â«", "â€¹"]
    "=": "ï¼"
    ">": ["ã€‹", "ã€‰", "Â»", "â€º"]
    "?": {commit: "ï¼Ÿ"}
    "@": "ï¼ "
    "[": ["ã€Œ", "ã€", "ã€”", "ï¼»"]
    "\\": ["ã€", "ï¼¼"]
    "]": ["ã€", "ã€‘", "ã€•", "ï¼½"]
    "^": {commit: "â€¦â€¦"}
    "_": "â€”â€”"
    "`": "ï½€"
    "{": ["ã€", "ã€–", "ï½›"]
    "|": ["Â·", "ï½œ", "Â§", "Â¦"]
    "}": ["ã€", "ã€—", "ï½"]
    "~": "ï½"
  half_shape: # åŠè§’ç¬¦å·
    "!": {commit: "ï¼"}
    "\"": {pair: ["â€œ", "â€"]}
    "#": "#"
    "$": "ï¿¥"
    "%": ["%", "ï¼…", "Â°", "â„ƒ"]
    "&": "&"
    "'": {pair: ["â€˜", "â€™"]}
    "(": "ï¼ˆ"
    ")": "ï¼‰"
    "*": "*"
    "+": "+"
    ",": {commit: ","}
    "-": {commit: "-"}
    '.': {commit: "ã€‚"}
    "/": {commit: "ã€"}
    ":": {commit: ":"}
    ";": {commit: ";"}
    "<": ["<", "ã€Š"]
    "=": {commit: "="}
    ">": [">", "ã€‹"]
    "?": ["?", "ï¼Ÿ"]
    "@": "@"
    "[": {commit: "ã€"}
    "\\": {commit: "ã€"}
    "]": {commit: "ã€‘"}
    "^": {commit: "â€¦â€¦"}
    "_": "â€”â€”"
    "`": "`"
    "{": "ã€Œ"
    "|": "|"
    "}": "ã€"
    "~": "~"

menu:
  page_size: 4
